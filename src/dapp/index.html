<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FlightSurety</title>
    <link href="flightsurety.css" type="text/css" rel="stylesheet">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="icon" type="image/x-icon" href="./images/umbrella.ico">
    <link rel="preload" href="Ticketing.woff2" as="font" type="font/woff2" crossorigin>
    <script src="https://kit.fontawesome.com/8d9e2e73ef.js" crossorigin="anonymous"></script>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/truffle-contract@latest/dist/truffle-contract.js"></script>
    <!-- <script type="text/javascript" src="../../node_modules/@truffle/contract/dist/truffle-contract.min.js"></script> -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    

</head>

<body>
    <img class = "welcomeSign" src="./images/welcomeNew.png" alt="">
    <div class="heroSection ">

        <h1 class = "mainTitle1 animate__animated animate__bounceInLeft animate__delay-1s">Flight </h1><h1 class = "mainTitle2 animate__animated animate__bounceInRight animate__delay-1s">Surety</h1>
        
        <img src="./images/umbreallaLogoFS.png" class="umbrellaLogo animate__animated animate__bounceInUp animate__delay-1s"/>
    </div>
    <p class="slogan animate__animated animate__bounceInDown animate__delay_2s ">Making sure you're insured </p>

    <p class="arrow fir" data-aos="fade-right">ᐯ</p>
    <p class="arrow sec" data-aos="fade-left">ᐯ</p>
    <p class="arrow thi" data-aos="fade-right">ᐯ</p>
    <p class="arrow fou" data-aos="fade-left">ᐯ</p>
    <p class="arrow fif" data-aos="fade-right">ᐯ</p>



  <div class = "top-div"></div>
    <div class = "explainContainer" >
        
        <video autoplay muted loop src="./images/StarsBg.mp4">
        
        </video>

        <h1>Welcome to FlightSurety Insurance!</h1>
        <h2>The simple, safe and secure platform to make sure you're insured</h2>

        <img class = "mercury" src="./images/mercuryPixel.png" alt="">
        <img class = "neptune" src="./images/neptunePixel.png" alt="">
        <img class = "saturn" src="./images/saturnPixel.png" alt="">
        <img class = "astronaut" src="./images/astronaut.png" alt="">
        
        <h3> <u>But really, what is FlightSurety?</u></h3>
        <p>
            FlightSurety is an insurance platform where all transactions are settled on the Ethereum blockchain.
            This means that all transactions are final, immutable and uncontestable. 
            <br><br>
            This provides users with the assurance that once you have purchased a safety net for your flight, 
            and an unforseen issue causes a delay 
            or cancellation, you are within your rights to claim back a refund. 
            <br><br>
            However, we believe that a refund 
            doesn't quite cut the mustard, so we add an extra 50% on top of the insurance you bought. 
            <br><br>
            For example, 
            if you purchased insurance for 1 ether, and your flight is delayed due to airline issues, then you are 
            entitled to receive 1.5 ether back. Whether its business, or pleasure, worry not, as we believe this is 
            the fairest and stress-free way to travel.

        </p>

        
    </div>
    <div class = "bottom-div"></div>
    

    <div class = "introContainer" >

        <h2><u>How does it work?</u></h2>

        <img class = "cloud1" src="./images/pixelCloud1.png" alt="">
        <img class = "cloud2" src="./images/pixelCloud2.png" alt="">
        <img class = "cloud3" src="./images/pixelCloud3.png" alt="">

        <img class = "plane" src="./images/planePixel.png" alt="">
        

        <h3><u>Are you an Airline? (AIRLINE & FLIGHT sections)</u> </h3>
        <p class="airlineInfo">
            AIRLINE section: Airline's will first need to register
            their details and pay an upfront fee to be a valid member of FlightSurety.
            <br><br>
            FLIGHT section: Once you are a registered 
            airline, you can then proceed to register a flight for passengers to insure. 
        </p>    
        <br><br><br><br>

            <h3><u>Are you a Passenger? (PASSENGER & INSURANCE PAYOUT sections)</u> </h3>
        <p class = "passengerInfo">
            PASSENGER section: Passengers simply select their flight from the dropdown menu
            and enter the amount they wish to insure with. 
            <br> <br>
            INSURANCE PAYOUT section: If the status code reads 20, meaning the flight 
            has been delayed due to an airline issue, then the passenger can claim their creditted amount which will 
            be displayed. From there you can choose to withdraw all or some of your claim. 
            <br><br>
            <u>Summary:</u> <br>
             if you are an airline, jump to 'AIRLINE' and 'FLIGHT' sections. If you are a passenger, 
            jump to 'PASSENGER' and 'INSURANCE PAYOUT' sections. 
        </p>
        

        <img class = "palm1" src="./images/palmTreeNococonut.png" alt="">
        <img class = "palm2" src="./images/palmTreePixel.png" alt="">
        

        
    </div>


    <p class="arrow fir" data-aos="fade-right">ᐯ</p>
    <p class="arrow sec" data-aos="fade-left">ᐯ</p>
    <p class="arrow thi" data-aos="fade-right">ᐯ</p>
    <p class="arrow fou" data-aos="fade-left">ᐯ</p>




    <main>

        <ul id="cards">
            
            <li class="card" id="card_1">
                <div id="firstCard" class="card__content first">
                    <div>
                        <h2>AIRLINE</h2>
                        <h3 class= "regAirlinH3"  >STEP 1 - Register Airline</h3>
                        <p class = "mt-10">
                            New airlines may request to be registered by filling out 
                            their details below (Address and Name). Number of Airlines Registered: 
                            <button type="button" class="btnA btn-numAirlines" id="numAirlines" data-id="16" >0</button> 
                        </p>
                        Address Of Airline 
                        <input class ="width-25" type="text" id="newAirlineAdd" placeholder="0x7A1a2e6368ef2..." value="" size="50" >
                        Name Of Airline
                        <input class ="width-15" type="text" id="newAirlineName" placeholder="EasyFly Airways" value="" size="50">
                        <button type="button" class="btnA btn-registerAirline" data-id="0">Register Airline</button>


                        
                        <hr class = "airlineHR">
                        <h3>STEP 2 - Approve Airlines </h3>
                        <p class = "mt-10">
                            Here you can approve an airline (Registered) or check on the progress of your registration (Non-Registered). 
                            If your airline is the fifth or above airline to register then you must 
                            be voted in by more than 50% of the existing members. 
                        </p>

                        <label>APPROVE: Input the airline address you wish to approve:</label>
                        <input class ="width-25" type="text" id="approveAdd" value="" size="50" placeholder="0x7A1a2e6368ef2...">
                        <button type="button" class="btnA btn-approve" data-id="1" >Approve</button>
                        <br>
                        <label>VOTES: Input your airline address:</label>
                        <input class ="width-25" type="text" id="votesAdd" value="" size="50" placeholder="0x7A1a2e6368ef2...">
                        <button type="button" class="btnA btn-votes" data-id="2" >Check Votes</button>
                        <input class = "width-5" type="text" id="votesRes" disabled="true" name="votes" value="">

                        
                        

                        
                        <hr class = "airlineHR">
                        <h3>STEP 3 - Fund Airline</h3>
                        <p class = "mt-10">
                            To complete the registration process (after your airline has been voted in) 
                            you must fund your airline (5 ether)
                        </p>
                        <input class = "width-5" type="number" id="fundAirline" value="5">ETH
                        <button type="button" class="btnA btn-fundAirline" data-id="3">Fund Airline</button>

                        
                        <hr class = "airlineHR">
                        <h3>Renounce Airline</h3>
                        <p class = "mt-10">You may also renounce your participation in FlightSurety insurance (Note: You will be charged 1 Ether).</p>
                        <button class="btnA btn-renounce" type="button" data-id="4">Renounce your Airline</button>
                        <br><br>

                        
                    </div>
                    
                    
                </div>
            </li>

            


            <li class="card" id="card_2">
                <div id="secondCard" class="card__content second">
                    <div>
                        <h2>FLIGHT</h2>

                        <p>
                            This section is for airlines to register a new flight for insurance cover. 
                            Only registered airline addresses are able to register a new flight. 
                            Just enter the flight number and time of flight departure to register.
                        </p>
                        <hr>
                        <h3>
                            Register Flight 
                        </h3>

                        <p>
                            Once you are a registered with us at FlightSurety (above steps) you may 
                            register insurable flights for your passengers. 
                            <br> <br>
                        </p>
                        <label>Flight Number</label>
                        <input class ="width-15" type="text" id="newFlightNumber" placeholder="LT3345">
                        <br><br>
                        <label>Flight Date:</label>
                        <input class ="width-5" type="text" id="newFlightDateMonth" placeholder="MM">
                        <input class ="width-5" type="text" id="newFlightDateDay" placeholder="DD">
                        <input class ="width-5" type="text" id="newFlightDateYear" placeholder="YYYY">
                        <br><br>
                        <label>Flight Time (24 hour):</label>
                        <input class ="width-5" type="text" id="newFlightTimeHour" placeholder="HH">
                        <input class ="width-5" type="text" id="newFlightTimeMin" placeholder="MM">GMT+0100 (British Summer Time)
                        <br><br>
                        <button type="button" class="btnF regFlightBtn" data-id="5">Register Flight</button>


                    </div>


                </div>
            </li>
            
            
            <li class="card" id="card_3">
                <div id="thirdCard" class="card__content third">
                    <div>
                        <h2>PASSENGER</h2>
                        <h3>Purchase Insurance</h3>
                        <p>Select the flight you want to insure from the dropdown menu and then proceed to pay.</p>
                        <p>You may enter any amount up to 1 ether. If your flight is delayed/cancelled due to the airline, 
                            then you are entitled to receive 1.5x your cover.
                        </p>
                        <hr>
                        Select Flight:
                        <select id="availableFlights"></select>
                        <button class = "btnP fetchFlightsBtn" type="button" data-id="6">Get Flights</button>
                        <br><br>
                        <label>Airline Address: </label>
                        <input type="text" id="airlineAdd" disabled="true" value="" size="50">
                        <br><br>
                        <label>Flight Number: </label>
                        <input type="text" id="flightNumber" disabled="true" value="" size="50">
                        <br><br>
                        <label>Flight Time: </label>
                        <input type="text" id="flightTime" disabled="true" value="" size="50">
                        <br><br>
                        <label>Insurance Amount (max 1 ether) </label>
                        <input type="number" id="amountToInsure" value="" size="50">
                        <button class = "btnP buyInsurance" type="button" data-id="7" >Buy Insurance</button>
                        <br><br>

                        
                        <br>
                        
                        
                    </div>
                    
                </div>
            </li>
            
            
            <li class="card" id="card_4">
                <div id="fourthCard" class="card__content fourth">
                    <div>
                        <h2>INSURANCE PAYOUT</h2>
                        <p>
                            If you have purchased insurance for your flight and the status code is 20 (flight delay is airlines fault) 
                            then you are entitled for an insurance claim. Your amount to claim will be 1.5X your insurance purchase amount.
                        </p>
                        <p>Please select the flight from the dropdown menu and proceed to withdraw.</p>
                        
                        <hr>
                        Select Flight:
                        <select id="oraclesFlights"></select><button class = "btnP fetchFlightsBtn" type="button" data-id="6">Get Flights</button>
                        <br><br>
                        <label>Airline Address</label>
                        <input type="text" id="airlineAdd-oracles" disabled="true" value="" size="50">
                        <br>
                        <label>Flight Number: </label>
                        <input type="text" id="flightNumber-oracles" disabled="true" value="" size="50">
                        <br>
                        <label>Flight Time</label>
                        <input type="text" id="flightTime-oracles" disabled="true" value="" size="50">
                        <br>
                        <label>Flight Status</label>
                        <input type="text" id="flightStatus-oracles" disabled="true" value="" size="50">
                        
                        <br><br>
                        <label>Amount Credited</label>
                        <input type="number" id="toCredit" disabled="true" value="0" size="50">
                        <br>
                        <label>Amount To Withdraw</label>
                        <input type="number" id="toWithdraw" name = "itemPrice" value="0" size="50"> ETH 
                        <br>
                        <button class="btnIP withdrawBtn" type="button" data-id="8">Withdraw</button>
                        <button class="btnIP checkStatusBtn" type="button" data-id="9">Check Flight Status</button>
                    </div>
                </div>
            </li>


            
            <li class="card" id="card_5">
                <div id="fifthCard" class="card__content fifth">
                    <div>
                        <h2>CONTROL CENTER</h2>
                        <h4>ONLY THE CONTRACT OWNER AND ADMINS CAN INTERACT WITH THIS CARD!</h4>
                        <p>
                            The control center allows for the upgrade and pausing of the logic (application) smart contract, 
                            (which is responsible for the interaction between the UI and the persistent data smart contract)
                            should any unforeseen issue surface in the future. 
                        </p>

                        <p>In the event of a pause, sending and receiving ether will not be possible until unpaused. </p>
                        
                        <p>In the event of a contract upgrade, all data and funds in the contract will be untouched and safe from corruption of any kind. 
                            However, some features of this application might have changed to improved user experience. </p>
                        <hr>
                        <br>
                        <label>App Contract Address</label>
                        <input class ="width-25" id="appAddress1" type="text" placeholder="0x7A1a2e6368ef2..." value="" disabled="true">
                        <button class = "btnCC appCaBtn" type="button" data-id="10">Get App Contract Address</button>
                        <br><br>

                        
                        <div class = "dataStatusContainer">
                            <u>DATA CONTRACT OPERATIONAL STATUS</u>
                            <br><br>

                            <input type="radio" id="dataState1" name="dataContractStatus" value="notPaused" />
                            <label for="dataState1">Operational</label>
                            <br>
                            <input type="radio" id="dataState2" name="dataContractStatus" value="paused" /> 
                            <label for="dataState2">Not Operational</label>
                            <br><br>

                            <button class = "btnCC getDataStatusBtn" type="button" data-id="13">GET Data Contract Status</button>
                            <button class = "btnCC setDataStatus" type="button" data-id="14">SET Data Contract Status</button><br>
                        </div>
                        

                        <br><br><br>
                        
                        <div class = "appStatusContainer">
                            <u>APP CONTRACT OPERATIONAL STATUS</u> 
                            <br>

                            <input type="radio" id="appState1" name="appContractStatus" value="notPaused" />
                            <label for="appState1">Operational</label>
                            <br>
                            <input type="radio" id="appState2" name="appContractStatus" value="paused" /> 
                            <label for="appState2">Not Operational</label>
                            <br><br>
                            
                            <button class = "btnCC getAppStatusBtn" type="button" data-id="11">GET App Contract Status</button>
                            <button class = "btnCC setAppStatusBtn" type="button" data-id="12">SET App Contract Status </button>
                            
                        </div>
                        
                        <br><br><br>

                        <label>Authorise App Contract Address</label>
                        <input class ="width-25" id="newAppAddress" type="text" placeholder="0x3B2b4e6325ef6..." value="">
                        <button class = "btnCC authAppCA" type="button" data-id="15">Authorise App Contract to Data Contract</button>

                        <div class ="deauthoriseAddr">
                            <label>DEAUTHORISE App Contract Address</label>
                            <input class ="width-25" id="oldAppAddress" type="text" placeholder="0x3B2b4e6325ef6..." value="">
                            <button class = "btnCC deAuthAppCA" type="button" data-id="18">Authorise App Contract to Data Contract</button>
                        </div>
                        

                        <div class = "data-modal hidden" id="alertModal" data-id="17" style="white-space: pre-line">
                            <p id="alertMsg" >
            
                            </p>
                        </div>
                    </div>
                
            </li>
            </div>
            <div id="message" align="center"></div>
        </ul>

        <p class="arrow thi txArrow" data-aos="fade-right">ᐯ</p>
        <p class="arrow fou" data-aos="fade-left">ᐯ</p>
        <p class="arrow fif" data-aos="fade-right">ᐯ</p>


        <div class="txContainer">
            <h2>Transaction History<span id="tx-history"></span></h2>
            <div>
                <ul id="tx-events">
                    
                </ul>
                <br>
                <hr class ="txhr">
            </div>
        </div>

        <footer>
            <a href="https://www.linkedin.com/in/ollie-francis-57256b1b1/"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/olfrank"> <i class="fab fa-github"></i></a>
        </footer>


        
    </main>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="main.js"></script>
<script src="helpers.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"> </script>
<script>
AOS.init(); 
</script>

</html>